<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø | Full Integrated Version</title>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --primary-green: #006a4e;
            --primary-red: #f42a41;
            --gold: #b8860b;
            --bg-body: linear-gradient(135deg, #006a4e 0%, #003325 100%);
            --glass: rgba(255, 255, 255, 0.95);
            --text-main: #333;
        }

        .dark-mode {
            --bg-body: #121212;
            --glass: rgba(30, 30, 30, 0.95);
            --text-main: #f4f4f4;
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Noto Sans Bengali', sans-serif; transition: 0.3s ease; }
        body { background: var(--bg-body); color: #fff; scroll-behavior: smooth; overflow-x: hidden; width: 100%; }

        header { 
            text-align:center; padding: 60px 20px; 
            border-bottom: 8px solid var(--primary-red); 
            background: url('https://www.transparenttextures.com/patterns/cubes.png'), var(--primary-green);
        }
        .logo img { width: 100px; height: 100px; border-radius: 50%; border: 4px solid #fff; animation: pulseLogo 2s infinite; }

        @keyframes pulseLogo {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255, 255, 255, 0); }
            100% { transform: scale(1); }
        }

        nav { 
            background: var(--glass); position: sticky; top: 0; z-index: 1000; 
            display: flex; justify-content: center; align-items: center; padding: 10px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); flex-wrap: wrap;
        }
        nav a, nav button { color: var(--primary-green); text-decoration: none; margin: 5px 12px; font-weight: 700; cursor: pointer; border: none; background: none; font-size: 15px; }
        
        .top-controls { position: fixed; top: 15px; right: 15px; display: flex; gap: 8px; z-index: 2000; }
        .control-btn { background: #fff; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 8px rgba(0,0,0,0.2); color: #333; }

        section { max-width: 1100px; margin: 30px auto; padding: 40px; background: var(--glass); color: var(--text-main); border-radius: 20px; width: 92%; }
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-top: 25px; }
        
        .card-style { background: #fff; padding: 25px; border-radius: 15px; text-align: center; border-bottom: 5px solid var(--gold); }
        .leader-card { background: #fff; padding: 15px; border-radius: 12px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .leader-photo { width: 120px; height: 150px; object-fit: cover; border: 2px solid var(--primary-green); border-radius: 8px; }
        
        .gallery-item { height: 200px; overflow: hidden; border-radius: 10px; border: 3px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; }

        #adminPanel { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:9999; overflow-y:auto; padding:15px; }
        .admin-box { background:white; max-width:650px; margin:auto; padding:25px; border-radius:15px; color:#333; }
        input, textarea, select { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; }
        .btn-main { background: var(--primary-red); color: #fff; border: none; padding: 12px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; }

        .del-item { display: flex; justify-content: space-between; align-items: center; background: #f9f9f9; padding: 10px; border-radius: 5px; margin-top: 5px; border-bottom: 1px solid #eee; }
        .del-btn { background: #ff4757; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }

        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); z-index:5000; justify-content:center; align-items:center; padding: 10px; }
        .modal-content { background: #fff; padding: 25px; border-radius: 20px; width: 100%; max-width: 500px; color: #333; max-height: 90vh; overflow-y: auto; text-align: center; }
        
        footer { background: #002b1f; text-align: center; padding: 30px; color: white; margin-top: 20px; }
    </style>
</head>
<body>

<div class="top-controls">
    <button class="control-btn" onclick="toggleDarkMode()">üåì</button>
    <button class="control-btn" onclick="toggleLanguage()">üåê</button>
    <button class="control-btn" onclick="adminLogin()">‚öôÔ∏è</button>
</div>

<header>
    <div class="animate__animated animate__fadeInDown">
        <div class="logo"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Flag_of_Bangladesh.svg/120px-Flag_of_Bangladesh.svg.png"></div>
        <h1 id="txt-partyName">‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø</h1>
        <p id="txt-slogan">‡¶ú‡¶®‡¶ó‡¶£ ‚Ä¢ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
    </div>
</header>

<nav>
    <a href="#about">‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø</a>
    <a href="#ideology">‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂</a>
    <a href="#leaders">‡¶®‡ßá‡¶§‡ßÉ‡¶¨‡ßÉ‡¶®‡ßç‡¶¶</a>
    <a href="#gallery">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a>
    <button onclick="openModal('joinModal')">‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶π‡¶®</button>
    <button onclick="openModal('candidateModal')" style="background:var(--primary-red); color:#fff; padding:6px 15px; border-radius:20px;">‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶´‡¶∞‡ßç‡¶Æ</button>
</nav>

<section id="about" data-aos="fade-up">
    <h2 id="txt-aboutHeader" style="text-align:center; color:var(--primary-green);">‡¶¶‡¶≤‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø</h2>
    <p id="txt-aboutBody" style="text-align:center; margin-top:15px;">‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶∏‡¶Ç‡¶ó‡¶†‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¨‡¶ø‡¶∂‡ßÉ‡¶ô‡ßç‡¶ñ‡¶≤‡¶æ ‡¶®‡¶Ø‡¶º, ‡¶¨‡¶∞‡¶Ç ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶ø‡•§</p>
</section>

<section id="ideology" data-aos="zoom-in">
    <h2 style="text-align:center; color:var(--primary-green);">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂</h2>
    <div class="grid-container">
        <div class="card-style"><h3 id="txt-id1">‡¶≠‡¶®‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶</h3></div>
        <div class="card-style"><h3 id="txt-id2">‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ‡¶¨‡¶æ‡¶ú‡¶ø</h3></div>
        <div class="card-style"><h3 id="txt-id3">‡¶¨‡¶ø‡ßÉ‡¶ô‡ßç‡¶ñ‡¶≤‡¶æ</h3></div>
    </div>
</section>

<section id="leaders" data-aos="fade-right">
    <h2 id="txt-leadersHeader" style="color:var(--primary-green); text-align:center;">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø</h2>
    <div class="grid-container" id="leader-list"></div>
</section>

<section id="gallery" data-aos="fade-left">
    <h2 id="txt-galleryHeader" style="color:var(--primary-green); text-align:center;">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</h2>
    <div class="grid-container" id="gallery-list"></div>
</section>

<div id="adminPanel">
    <div class="admin-box">
        <h3>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h3>
        <hr><br>
        <input type="text" id="edit-partyName" placeholder="‡¶¶‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
        <textarea id="edit-aboutBody" placeholder="‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü"></textarea>
        <button class="btn-main" onclick="saveAllTexts()">‡¶∏‡ßá‡¶≠ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü</button>
        <hr><br>
        <h4>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø ‡¶ì ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h4>
        <input type="text" id="leaderName" placeholder="‡¶®‡¶æ‡¶Æ">
        <input type="text" id="leaderRole" placeholder="‡¶™‡¶¶‡¶¨‡ßÄ">
        <input type="text" id="leaderImg" placeholder="‡¶õ‡¶¨‡¶ø‡¶∞ URL">
        <button class="btn-main" style="background:green" onclick="saveLeader()">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø ‡¶∏‡ßá‡¶≠</button>
        <div id="admin-leader-list"></div>
        <hr><br>
        <input type="text" id="galleryImgUrl" placeholder="‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶õ‡¶¨‡¶ø‡¶∞ URL">
        <button class="btn-main" style="background:green" onclick="saveGalleryPhoto()">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <div id="admin-gallery-list"></div>
        <br>
        <button class="btn-main" style="background:#333;" onclick="document.getElementById('adminPanel').style.display='none'">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </div>
</div>

<div id="joinModal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--primary-green);">‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶™‡¶¶ ‡¶´‡¶∞‡¶Æ</h2>
        <form id="joinForm">
            <input type="text" name="name" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
            <input type="number" name="age" placeholder="‡¶¨‡¶Ø‡¶º‡¶∏" required>
            <input type="tel" name="phone" placeholder="‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" required>
            <textarea name="address" placeholder="‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ" required></textarea>
            <button type="submit" class="btn-main">‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
            <button type="button" onclick="closeModal('joinModal')" class="btn-main" style="background:#666;">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </form>
    </div>
</div>

<div id="candidateModal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--primary-red);">‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶´‡¶∞‡¶Æ</h2>
        <form id="candidateForm">
            <input type="text" id="cName" name="name" placeholder="‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ" required>
            <input type="number" name="age" placeholder="‡¶¨‡¶Ø‡¶º‡¶∏" required>
            <input type="text" name="assets" placeholder="‡¶Æ‡ßã‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶" required>
            <input type="text" id="cSeat" name="seat" placeholder="‡¶Ü‡¶ï‡¶æ‡¶ô‡ßç‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶Ü‡¶∏‡¶®" required>
            <input type="text" name="wife_assets" placeholder="‡¶¨‡¶â‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶" required>
            <textarea name="purpose" placeholder="‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø" required></textarea>
            <p style="text-align:left; font-size:12px; font-weight:bold;">‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
            <input type="file" id="imageInput" required>
            <button type="submit" class="btn-main" id="subBtn">‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
            <button type="button" onclick="closeModal('candidateModal')" class="btn-main" style="background:#666;">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </form>
    </div>
</div>

<div id="congratsModal" class="modal">
    <div class="modal-content animate__animated animate__zoomIn">
        <h1 style="color:var(--primary-green);">‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! üéâ</h1>
        <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶∂‡¶ø‡¶ü‡ßá ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</p>
        <button class="btn-main" style="background:#000;" onclick="downloadPDF()">üì• ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° PDF ‡¶ï‡¶™‡¶ø</button>
        <button class="btn-main" style="background:#666;" onclick="closeModal('congratsModal')">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </div>
</div>

<footer>¬© 2026 ‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø | ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</footer>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({ duration: 800, once: true });

    const scriptURL = 'https://script.google.com/macros/s/AKfycbzSOg3KG8ZD_wlShPBxhotEAegEFY-HkrXJnWNWN1-YbE3e8qiVcJhS56L389QnfK4r/exec';

    // ‡ßß. ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶≤‡¶ú‡¶ø‡¶ï (‡¶á‡¶Æ‡ßá‡¶ú ‡¶∏‡¶π Fetcher)
    document.getElementById('candidateForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const btn = document.getElementById('subBtn');
        const form = e.target;
        btn.innerText = "‡¶ú‡¶Æ‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        btn.disabled = true;

        const fileInput = document.getElementById('imageInput');
        const file = fileInput.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const base64Data = event.target.result.split(',')[1];
            const formData = new FormData(form);
            
            const params = new URLSearchParams();
            for (const pair of formData) { 
                params.append(pair[0], pair[1]); 
            }
            params.append('imageFile', base64Data);
            params.append('fileName', file.name);

            fetch(scriptURL, { 
                method: 'POST', 
                body: params,
                mode: 'no-cors' 
            })
            .then(() => {
                btn.innerText = "‡¶∏‡¶´‡¶≤!";
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
                    closeModal('candidateModal');
                    openModal('congratsModal');
                    form.reset();
                }, 1000);
            })
            .catch(error => {
                alert("Error! ‡¶∂‡¶ø‡¶ü‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø‡•§");
                btn.disabled = false;
                btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
            });
        };
        
        if (file) {
            reader.readAsDataURL(file);
        } else {
            alert("‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
            btn.disabled = false;
            btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
        }
    });

    // ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶´‡¶∞‡¶Æ‡ßá‡¶∞ Fetcher (‡¶õ‡¶¨‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ)
    document.getElementById('joinForm').addEventListener('submit', e => {
        e.preventDefault();
        const f = e.target;
        const b = f.querySelector('button[type="submit"]');
        b.innerText = "‡¶ú‡¶Æ‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        b.disabled = true;

        fetch(scriptURL, { method: 'POST', body: new FormData(f), mode: 'no-cors' })
        .then(() => {
            alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
            b.innerText = "‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
            b.disabled = false;
            closeModal('joinModal');
            f.reset();
        })
        .catch(() => {
            alert("‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            b.disabled = false;
        });
    });

    // ‡ß®. ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
    function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const name = document.getElementById('cName').value || "Candidate";
        doc.text("Nomination Confirmation - VMP", 20, 20);
        doc.text(`Candidate: ${name}`, 20, 40);
        doc.text(`Seat: ${document.getElementById('cSeat').value}`, 20, 50);
        doc.save(`Nomination_${name}.pdf`);
    }

    // ‡ß©. ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶ì ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞
    const textIds = ['partyName', 'slogan', 'aboutHeader', 'aboutBody', 'id1', 'id2', 'id3', 'leadersHeader', 'galleryHeader'];
    function loadContent() {
        textIds.forEach(id => {
            const saved = localStorage.getItem('txt-' + id);
            if(saved) {
                const el = document.getElementById('txt-' + id);
                if(el) el.innerText = saved;
            }
        });

        let leaders = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        document.getElementById('leader-list').innerHTML = leaders.map(l => `
            <div class="leader-card animate__animated animate__fadeIn">
                <img src="${l.img || 'https://via.placeholder.com/120'}" class="leader-photo">
                <h4>${l.name}</h4><p>${l.role}</p>
            </div>`).join('');

        let photos = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        document.getElementById('gallery-list').innerHTML = photos.map(p => `
            <div class="gallery-item animate__animated animate__zoomIn"><img src="${p.url}"></div>`).join('');
    }

    function saveAllTexts() {
        textIds.forEach(id => {
            const val = document.getElementById('edit-' + id)?.value;
            if(val) { localStorage.setItem('txt-' + id, val); document.getElementById('txt-' + id).innerText = val; }
        });
        alert("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡¶´‡¶≤!");
    }

    function saveLeader() {
        const name = document.getElementById('leaderName').value;
        const role = document.getElementById('leaderRole').value;
        const img = document.getElementById('leaderImg').value;
        let leaders = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        leaders.push({id: Date.now(), name, role, img});
        localStorage.setItem('vmpLeaders', JSON.stringify(leaders));
        location.reload();
    }

    function deleteLeader(id) {
        let l = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        localStorage.setItem('vmpLeaders', JSON.stringify(l.filter(i => i.id !== id)));
        location.reload();
    }

    function saveGalleryPhoto() {
        const url = document.getElementById('galleryImgUrl').value;
        let photos = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        photos.push({id: Date.now(), url});
        localStorage.setItem('vmpGallery', JSON.stringify(photos));
        location.reload();
    }

    function deletePhoto(id) {
        let p = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        localStorage.setItem('vmpGallery', JSON.stringify(p.filter(i => i.id !== id)));
        location.reload();
    }

    function adminLogin() {
        if(prompt("User:") === "admin" && prompt("Pass:") === "1234") {
            document.getElementById('adminPanel').style.display='block';
            let l = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
            document.getElementById('admin-leader-list').innerHTML = l.map(i => `<div class="del-item">${i.name} <button class="del-btn" onclick="deleteLeader(${i.id})">Del</button></div>`).join('');
            let p = JSON.parse(localStorage.getItem('vmpGallery')) || [];
            document.getElementById('admin-gallery-list').innerHTML = p.map(i => `<div class="del-item">Photo ID: ${i.id} <button class="del-btn" onclick="deletePhoto(${i.id})">Del</button></div>`).join('');
        }
    }

    window.onload = loadContent;
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function toggleDarkMode() { document.body.classList.toggle('dark-mode'); }
    function toggleLanguage() { alert("Language feature coming soon!"); }
</script>

</body>
</html>
